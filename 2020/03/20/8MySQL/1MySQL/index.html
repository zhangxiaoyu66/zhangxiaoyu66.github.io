<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="爱吃鱼的呆先生">



<meta name="description" content="MySQL介绍和基本的SQL编写及解析MySQL介绍篇数据库概述什么是数据库数据库就是[存储数据的仓库]，其本质是一个[文件系统]，数据按照特定的格式将数据存储起来，用户可以通SQL对数据库中的数据进行增加，修改，删除及查询操作 什么是关系型数据库数据库中的[记录是有行有列的数据库]就是关系型数据库，与之相反的就是NoSQL数据库了 数据库和表 数据库管理系统（DataBase Managemen">
<meta name="keywords" content="MySQL基础">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL介绍和基本的SQL编写及解析">
<meta property="og:url" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/index.html">
<meta property="og:site_name" content="爱吃鱼的呆先生">
<meta property="og:description" content="MySQL介绍和基本的SQL编写及解析MySQL介绍篇数据库概述什么是数据库数据库就是[存储数据的仓库]，其本质是一个[文件系统]，数据按照特定的格式将数据存储起来，用户可以通SQL对数据库中的数据进行增加，修改，删除及查询操作 什么是关系型数据库数据库中的[记录是有行有列的数据库]就是关系型数据库，与之相反的就是NoSQL数据库了 数据库和表 数据库管理系统（DataBase Managemen">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200303111423576.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/1.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200320172426068.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321091659817.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321094719861.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321181920412.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321182006319.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321182850604.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321182858923.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321183722970.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321183739763.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321183749997.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321184638957.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321184650552.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321184716412.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321125142540.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321125234610.png">
<meta property="og:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200321125758492.png">
<meta property="og:updated_time" content="2020-03-21T11:36:49.371Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL介绍和基本的SQL编写及解析">
<meta name="twitter:description" content="MySQL介绍和基本的SQL编写及解析MySQL介绍篇数据库概述什么是数据库数据库就是[存储数据的仓库]，其本质是一个[文件系统]，数据按照特定的格式将数据存储起来，用户可以通SQL对数据库中的数据进行增加，修改，删除及查询操作 什么是关系型数据库数据库中的[记录是有行有列的数据库]就是关系型数据库，与之相反的就是NoSQL数据库了 数据库和表 数据库管理系统（DataBase Managemen">
<meta name="twitter:image" content="http://yoursite.com/2020/03/20/8MySQL/1MySQL/image-20200303111423576.png">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="爱吃鱼的呆先生" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>MySQL介绍和基本的SQL编写及解析 | 爱吃鱼的呆先生</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">爱吃鱼的呆先生</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云与分类</a></li>
                        
                            <li><a href="/pdfdocuments/">pdf文档笔记</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="https://mail.163.com/" title="Email"></a>
                            
                                <a class="fa CSDN" href="https://www.csdn.net/" title="CSDN"></a>
                            
                                <a class="fa Coding" href="https://coding.net/login" title="Coding"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Idea/">Idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Logstash/">Logstash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatisPlus/">MyBatisPlus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL基础/">MySQL基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/">Spring Cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringDataJPA/">SpringDataJPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/">Zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/easyExcel/">easyExcel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://mybatis.org/mybatis-3/zh/index.html">Mybatis</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://spring.io/projects/spring-framework#overview">Spring</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://spring.io/projects/spring-boot">SpringBoot</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">真正的大师永远保持一颗学徒的心</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">爱吃鱼的呆先生</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">爱吃鱼的呆先生</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云与分类</a></li>
                
                    <li><a href="/pdfdocuments/">pdf文档笔记</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="https://mail.163.com/" title="Email"></a>
                            
                                <a class="fa CSDN" target="_blank" href="https://www.csdn.net/" title="CSDN"></a>
                            
                                <a class="fa Coding" target="_blank" href="https://coding.net/login" title="Coding"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-8MySQL/1MySQL" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/03/20/8MySQL/1MySQL/" class="article-date">
      <time datetime="2020-03-20T01:56:02.896Z" itemprop="datePublished">2020-03-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MySQL介绍和基本的SQL编写及解析
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL基础/">MySQL基础</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="MySQL介绍和基本的SQL编写及解析"><a href="#MySQL介绍和基本的SQL编写及解析" class="headerlink" title="MySQL介绍和基本的SQL编写及解析"></a>MySQL介绍和基本的SQL编写及解析</h1><h2 id="MySQL介绍篇"><a href="#MySQL介绍篇" class="headerlink" title="MySQL介绍篇"></a>MySQL介绍篇</h2><h3 id="数据库概述"><a href="#数据库概述" class="headerlink" title="数据库概述"></a>数据库概述</h3><h4 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h4><p>数据库就是[存储数据的仓库]，其本质是一个[文件系统]，数据按照特定的格式将数据存储起来，用户可以通SQL对数据库中的数据进行增加，修改，删除及查询操作</p>
<h4 id="什么是关系型数据库"><a href="#什么是关系型数据库" class="headerlink" title="什么是关系型数据库"></a>什么是关系型数据库</h4><p>数据库中的[记录是有行有列的数据库]就是关系型数据库，与之相反的就是NoSQL数据库了</p>
<h4 id="数据库和表"><a href="#数据库和表" class="headerlink" title="数据库和表"></a>数据库和表</h4><p><img src="/2020/03/20/8MySQL/1MySQL/image-20200303111423576.png" alt="image-20200303111423576"></p>
<p>数据库管理系统（DataBase Management System，DBMS）：指一种[操作和管理数据库]的大型软件，用于建立、使用和维护数据库，对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中表内的数据。(记录)</p>
<h4 id="常见的数据库管理系统"><a href="#常见的数据库管理系统" class="headerlink" title="常见的数据库管理系统"></a>常见的数据库管理系统</h4><ul>
<li>MYSQL ：开源免费的数据库，小型的数据库.已经被Oracle收购了。MySQL5.5版本之后都是由<br>Oracle发布的版本。</li>
<li>Oracle ：收费的大型数据库，Oracle公司的产品。Oracle收购SUN公司，收购MYSQL。</li>
<li>DB2 ：IBM公司的数据库产品,收费的。常应用在银行系统中。在中国的互联网公司，要求去<br>IOE（IBM小型机、Oracle数据库、EMC存储设备）</li>
<li>SQLServer：MicroSoft 公司收费的中型的数据库。C#、.net等语言常使用。</li>
<li>SyBase ：已经淡出历史舞台。提供了一个非常专业数据建模的工具PowerDesigner。</li>
<li>SQLite : 嵌入式的小型数据库，应用在手机端。</li>
</ul>
<h3 id="MySQL介绍"><a href="#MySQL介绍" class="headerlink" title="MySQL介绍"></a>MySQL介绍</h3><h4 id="MySQL是什么"><a href="#MySQL是什么" class="headerlink" title="MySQL是什么"></a>MySQL是什么</h4><p>MySQL 是最流行的【关系型数据库管理系统】，在WEB应用方面 MySQL是最好的RDBMS应用软件之一</p>
<h4 id="MySQL发展历程"><a href="#MySQL发展历程" class="headerlink" title="MySQL发展历程"></a>MySQL发展历程</h4><ul>
<li>MySQL的历史可以追溯到1979年，一个名为Monty Widenius的程序员在为TcX的小公司打工，并且用BASIC设计了一个报表工具，使其可以在4MHz主频和16KB内存的计算机上运行。当时，这只是一个很底层且仅面向报表的存储引擎，名叫Unireg。</li>
<li>1990年，TcX公司的客户中开始有人要求为他的API提供SQL支持。Monty直接借助于mSQL的代码，将它集成到自己的存储引擎中。令人失望的是，效果并不太令人满意，决心自己重写一个SQL支持。</li>
<li>1996年，MySQL 1.0发布，它只面向一小拨人，相当于内部发布。</li>
<li>到了1996年10月，MySQL 3.11.1发布(MySQL没有2.x版本)，最开始只提供Solaris下的二进制版本。一个后，Linux版本出现了。在接下来的两年里，MySQL被依次移植到各个平台。</li>
<li>【1999～2000年】，【MySQL AB】公司在瑞典成立。Monty雇了几个人与Sleepycat合作，开发出了【Berkeley DB引擎】, 由于BDB支持事务处理，因此MySQL从此开始支持事务处理了</li>
<li>2000，MySQL不仅公布自己的源代码，并采用GPL(GNU General Public License)许可协议，正式进入开源世界。同年4月，MySQL对旧的存储引擎ISAM进行了整理，将其命名为MyISAM。</li>
<li>2001年，集成Heikki Tuuri的存储引擎【InnoDB】，这个引擎不仅能【支持事务处理，并且支持行级锁】。后来该引擎被证明是最为成功的MySQL事务存储引擎。【MySQL与InnoDB的正式结合版本是4.0】</li>
<li>2003年12月，【MySQL 5.0】版本发布，提供了视图、存储过程等功能。</li>
<li>【2008年1月】，【MySQL AB公司被Sun公司以10亿美金收购】，MySQL数据库进入Sun时代。在Sun时代，Sun公司对其进行了大量的推广、优化、Bug修复等工作。</li>
<li>2008年11月，MySQL 5.1发布，它提供了分区、事件管理，以及基于行的复制和基于磁盘的NDB集群系统，同时修复了大量的Bug。</li>
<li>【2009年4月】，Oracle公司以74亿美元收购Sun公司，自此MySQL数据库进入Oracle时代，而其第三方的存储引擎InnoDB早在2005年就被Oracle公司收购。</li>
<li>2010年12月，【MySQL 5.5发布】，其主要新特性包括半同步的复制及对SIGNAL/RESIGNAL的异常处理功能的支持，【最重要的是InnoDB存储引擎终于变为当前MySQL的默认存储引擎】。MySQL 5.5不是时隔两年后的一次简单的版本更新，而是加强了MySQL各个方面在企业级的特性。Oracle公司同时也承诺MySQL 5.5和未来版本仍是采用GPL授权的开源产品。</li>
</ul>
<h3 id="SQL介绍"><a href="#SQL介绍" class="headerlink" title="SQL介绍"></a>SQL介绍</h3><h4 id="什么是SQL"><a href="#什么是SQL" class="headerlink" title="什么是SQL"></a>什么是SQL</h4><p>【SQL是Structured Query Language的缩写】</p>
<p>它的前身是著名的关系数据库原型系统System R所采用的SEQUEL语言。作为一种访问【关系型数据库的标准语</p>
<p>言】，SQL自问世以来得到了广泛的应用，不仅是著名的大型商用数据库产品Oracle、DB2、Sybase、SQL </p>
<p>Server支持它，很多开源的数据库产品如PostgreSQL、MySQL也支持它，甚至一些小型的产品如Access也支持</p>
<p>SQL。近些年蓬勃发展的NoSQL系统最初是宣称不再需要SQL的，后来也不得不修正为Not Only SQL，来拥抱</p>
<p>SQL。蓝色巨人IBM对关系数据库以及SQL语言的形成和规范化产生了重大的影响，第一个版本的SQL标准SQL86</p>
<p>就是基于System R的手册而来的。Oracle在1979年率先推出了支持SQL的商用产品。随着数据库技术和应用的发</p>
<p>展，为不同RDBMS提供一致的语言成了一种现实需要。</p>
<p>对SQL标准影响最大的机构自然是那些著名的数据库产商，而具体的制订者则是一些非营利机构，例如【国际标准</p>
<p>化组织ISO、美国国家标准委员会ANSI】等。各国通常会按照 ISO标准和ANSI标准（这两个机构的很多标准是差不</p>
<p>多等同的）制定自己的国家标准。中国是ISO标准委员会的成员国，也经常翻译一些国际标准对应的中文版。标准</p>
<p>为了避免采用具体产品的术语，往往会抽象出很多名词，从而增加了阅读和理解的难度，翻译成中文之后更容易词</p>
<p>不达意。对于数据库系统实现者和用户而言，很多时候还不如直接读英文版本为好。虽然正式的标准不像RFC那样</p>
<p>可以从网络上免费获得，标准草案还是比较容易找到的（例如：<a href="http://www.jtc1sc32.org/doc/）。待批准的标准" target="_blank" rel="noopener">http://www.jtc1sc32.org/doc/）。待批准的标准</a></p>
<p>草案和最终的标准也没有什么实质上的区别，能够满足日常工作的需要。</p>
<p>下面是SQL发展的简要历史：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1986年，ANSI X3.135-1986，ISO/IEC 9075:1986，SQL-86</span><br><span class="line">1989年，ANSI X3.135-1989，ISO/IEC 9075:1989，SQL-89</span><br><span class="line">1992年，ANSI X3.135-1992，ISO/IEC 9075:1992，SQL-92（SQL2）</span><br><span class="line">1999年，ISO/IEC 9075:1999，SQL:1999（SQL3）</span><br><span class="line">2003年，ISO/IEC 9075:2003，SQL:2003</span><br><span class="line">2008年，ISO/IEC 9075:2008，SQL:2008</span><br><span class="line">2011年，ISO/IEC 9075:2011，SQL:2011</span><br></pre></td></tr></table></figure>

<p>如果要了解标准的内容，比较推荐的方法是【泛读SQL92】（因为它涉及了SQL最基础和最核心的一些内容），然后增量式的阅读其他标准。</p>
<p>不只是mysql还有其他数据库，在SQL92或者SQL99这些国际SQL标准基础之上，它们还扩展了自己的一些SQL语句，比如MySQL中的limit关键字</p>
<h4 id="SQL语言分类"><a href="#SQL语言分类" class="headerlink" title="SQL语言分类"></a>SQL语言分类</h4><ul>
<li>数据定义语言：简称【DDL】(Data Definition Language)，用来定义数据库对象：数据库，表，列<br>等。关键字：create，alter，drop等</li>
<li>数据操作语言：简称【DML】(Data Manipulation Language)，用来对数据库中表的记录进行更<br>新。关键字：insert，delete，update等</li>
<li>数据控制语言：简称【DCL】(Data Control Language)，用来定义数据库的访问权限和安全级别，<br>及创建用户；关键字：grant等</li>
<li>数据查询语言：简称【DQL】(Data Query Language)，用来查询数据库中表的记录。关键字：<br>select，from，where等</li>
</ul>
<h2 id="MySQL基础篇"><a href="#MySQL基础篇" class="headerlink" title="MySQL基础篇"></a>MySQL基础篇</h2><h3 id="MySQL单机安装"><a href="#MySQL单机安装" class="headerlink" title="MySQL单机安装"></a>MySQL单机安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">操作系统：CentOS 7 </span><br><span class="line">MySQL：5.6</span><br></pre></td></tr></table></figure>

<h3 id="MySQL的卸载"><a href="#MySQL的卸载" class="headerlink" title="MySQL的卸载"></a>MySQL的卸载</h3><p>查看MySQL软件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep mysql</span><br><span class="line">yum repolist all | grep mysql</span><br></pre></td></tr></table></figure>

<p>卸载MySQL</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum remove -y mysql mysql-libs mysql-common #卸载mysql</span><br><span class="line">rm -rf /var/lib/mysql #删除mysql下的数据文件</span><br><span class="line">rm /etc/my.cnf #删除mysql配置文件</span><br><span class="line">yum remove -y mysql-community-release-el6-5.noarch #删除组件</span><br></pre></td></tr></table></figure>

<p>查看是否还有 MySQL 软件，有的话继续删除</p>
<h3 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">下载rpm文件</span></span><br><span class="line">wget http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm</span><br><span class="line"><span class="meta">#</span><span class="bash">执行rpm源文件</span></span><br><span class="line">rpm -ivh mysql-community-release-el6-5.noarch.rpm</span><br><span class="line"><span class="meta">#</span><span class="bash">执行安装文件</span></span><br><span class="line">yum install mysql-community-server</span><br></pre></td></tr></table></figure>

<h3 id="启动MySQL"><a href="#启动MySQL" class="headerlink" title="启动MySQL"></a>启动MySQL</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure>

<h3 id="设置root用户密码"><a href="#设置root用户密码" class="headerlink" title="设置root用户密码"></a>设置root用户密码</h3><p>例如：为 root 账号设置密码为 root </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/mysqladmin -u root password 'root'</span><br><span class="line"><span class="meta">#</span><span class="bash">没有密码 有原来的密码则加</span></span><br><span class="line">/usr/bin/mysqladmin -u root -p '123' password 'root'</span><br></pre></td></tr></table></figure>

<h3 id="登录MySQL"><a href="#登录MySQL" class="headerlink" title="登录MySQL"></a>登录MySQL</h3><p>登录命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot</span><br></pre></td></tr></table></figure>

<p>命令说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-u：指定数据库用户名</span><br><span class="line">-p：指定数据库密码，记住-u和登录密码之间没有空格</span><br></pre></td></tr></table></figure>

<h3 id="配置MySQL"><a href="#配置MySQL" class="headerlink" title="配置MySQL"></a>配置MySQL</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/my.cnf</span><br></pre></td></tr></table></figure>

<p>修改内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"># MySQL设置大小写不敏感：默认：区分表名的大小写，不区分列名的大小写</span><br><span class="line"># 0：大小写敏感 1：大小写不敏感</span><br><span class="line">lower_case_table_names=1</span><br><span class="line"># 默认字符集</span><br><span class="line">character-set-server=utf8</span><br></pre></td></tr></table></figure>

<p>重启MySQL</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysqld.service</span><br></pre></td></tr></table></figure>

<h4 id="注"><a href="#注" class="headerlink" title="注"></a>注</h4><p>启动mysql服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure>

<p>停止mysql服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop mysqld.service</span><br></pre></td></tr></table></figure>

<p>重启mysql服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysqld.service</span><br></pre></td></tr></table></figure>

<p>查看mysql服务当前状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld.service</span><br></pre></td></tr></table></figure>

<p>设置mysql服务开机自启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable mysqld.service</span><br></pre></td></tr></table></figure>

<p>停止mysql服务开机自启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable mysqld.service</span><br></pre></td></tr></table></figure>

<h3 id="MySQL远程连接授权"><a href="#MySQL远程连接授权" class="headerlink" title="MySQL远程连接授权"></a>MySQL远程连接授权</h3><h4 id="授权命令"><a href="#授权命令" class="headerlink" title="授权命令"></a>授权命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant 权限 on 数据库对象 to 用户</span><br></pre></td></tr></table></figure>

<p>示例</p>
<p>授予root用户对所有数据库对象的全部操作权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;root&apos; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<p>命令说明</p>
<p><code>ALL PRIVILEGES</code>:表示授予所有的权限，此处可以指定具体的授权权限</p>
<p><code>*.*</code> :表示所有库中的所有表</p>
<p><code>&#39;root&#39;@&#39;%&#39;</code>： root是数据库的用户名，%表示是任意ip地址，可以指定具体ip地址</p>
<p><code>IDENTIFIED BY &#39;mypassword&#39;</code> ：mypassword是数据库的密码</p>
<h4 id="刷新权限"><a href="#刷新权限" class="headerlink" title="刷新权限"></a>刷新权限</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<h4 id="查看当前用户的权限"><a href="#查看当前用户的权限" class="headerlink" title="查看当前用户的权限"></a>查看当前用户的权限</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants for root;</span><br></pre></td></tr></table></figure>

<h3 id="关闭linux的防火墙"><a href="#关闭linux的防火墙" class="headerlink" title="关闭linux的防火墙"></a>关闭linux的防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld（默认）</span><br><span class="line">systemctl disable firewalld.service（设置开启不启动）</span><br></pre></td></tr></table></figure>

<h3 id="客户端远程访问"><a href="#客户端远程访问" class="headerlink" title="客户端远程访问"></a>客户端远程访问</h3><p>利用navicat/SQLyog可以远程访问MySQL，通过远程连接SSH实现</p>
<h4 id="连接不上的解决办法"><a href="#连接不上的解决办法" class="headerlink" title="连接不上的解决办法"></a>连接不上的解决办法</h4><p>如果连接不上，可以按以下步骤排错</p>
<p>1、MySQL是否正常启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps -ef | grep mysql</span><br><span class="line">root 1114 1 0 10:21 ? 00:00:00 /bin/sh /usr/bin/mysqld_safe -</span><br><span class="line">-datadir=/var/lib/mysql --socket=/var/lib/mysql/mysql.sock --pid-</span><br><span class="line">file=/var/run/mysqld/mysqld.pid --basedir=/usr --user=mysql</span><br><span class="line">mysql 1698 1114 0 10:21 ? 00:00:03 /usr/sbin/mysqld</span><br></pre></td></tr></table></figure>

<p>2、查看防火墙是否关闭</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl status firewalld</span><br><span class="line">firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled)</span><br><span class="line">Active: inactive (dead)</span><br></pre></td></tr></table></figure>

<p>3、查看root权限为所有ip都可以访问</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show grants for root;</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">-------------------------------------------------+</span></span><br><span class="line">| Grants for root@%</span><br><span class="line">| <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="keyword">PASSWORD</span></span><br><span class="line"><span class="string">'*81F5E21E35407D884A6CD4A731AEBFB6AF209E1B'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span> |</span><br><span class="line">+<span class="comment">-----------------------------------------------------------------</span></span><br></pre></td></tr></table></figure>

<p>4、服务器与客户端是否可以ping通</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.239.129</span><br><span class="line">正在 Ping 192.168.239.129 具有 32 字节的数据:</span><br><span class="line">来自 192.168.239.129 的回复: 字节=32 时间&lt;1ms TTL=64</span><br></pre></td></tr></table></figure>

<p>5、客户端是否可以telnet到服务器端</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 192.168.239.129 3306</span><br></pre></td></tr></table></figure>

<p>6、Navicat是否正确安装</p>
<h2 id="DDL语句"><a href="#DDL语句" class="headerlink" title="DDL语句"></a>DDL语句</h2><h3 id="数据库操作database"><a href="#数据库操作database" class="headerlink" title="数据库操作database"></a>数据库操作database</h3><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> 数据库名;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> 数据库名 <span class="built_in">character</span> <span class="keyword">set</span> 字符集;</span><br></pre></td></tr></table></figure>

<h4 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h4><p>查看数据库服务器中的所有的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></table></figure>

<p>查看某个数据库的定义的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">database</span> 数据库名;</span><br></pre></td></tr></table></figure>

<h4 id="删除数据库（慎用）"><a href="#删除数据库（慎用）" class="headerlink" title="删除数据库（慎用）"></a>删除数据库（慎用）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> 数据库名称;</span><br></pre></td></tr></table></figure>

<h4 id="其他数据库操作命令"><a href="#其他数据库操作命令" class="headerlink" title="其他数据库操作命令"></a>其他数据库操作命令</h4><p>切换数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> 数据库名;</span><br></pre></td></tr></table></figure>

<p>查看正在使用的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br></pre></td></tr></table></figure>

<h3 id="表操作table"><a href="#表操作table" class="headerlink" title="表操作table"></a>表操作table</h3><h4 id="字段类型"><a href="#字段类型" class="headerlink" title="字段类型"></a>字段类型</h4><p>常用的类型有</p>
<p>数字型：int</p>
<p>浮点型：double</p>
<p>字符型：varchar（可变长字符串）</p>
<p>日期类型：date（只有年月日，没有时分秒），datetime（年月日，时分秒）</p>
<p>boolean类型：不支持，一般使用tinyint替代（值为0和1）</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/1.png" alt></p>
<h4 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">    字段名 类型(长度) 约束,</span><br><span class="line">    字段名 类型(长度) 约束</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>单表约束</p>
<ul>
<li>主键约束：primary key</li>
<li>唯一约束：unique</li>
<li>非空约束：not null</li>
</ul>
<p>注意</p>
<p>主键约束 = 唯一约束 + 非空约束</p>
<h4 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h4><p>查看数据库中的所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure>

<p>查看表结构</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc 表名;</span><br></pre></td></tr></table></figure>

<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>

<h4 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 列名 类型(长度) 约束; <span class="comment">--修改表添加列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">modify</span> 列名 类型(长度) 约束; <span class="comment">--修改表修改列的类型长度及约束</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">change</span> 旧列名 新列名 类型(长度) 约束; <span class="comment">--修改表修改列名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 列名; <span class="comment">--修改表删除列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">table</span> 表名 <span class="keyword">to</span> 新表名; <span class="comment">--修改表名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="built_in">character</span> <span class="keyword">set</span> 字符集; <span class="comment">--修改表的字符集</span></span><br></pre></td></tr></table></figure>

<h2 id="DML语句"><a href="#DML语句" class="headerlink" title="DML语句"></a>DML语句</h2><h3 id="插入记录：insert"><a href="#插入记录：insert" class="headerlink" title="插入记录：insert"></a>插入记录：insert</h3><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表 (列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3.</span>.) <span class="keyword">values</span> (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3.</span>.); <span class="comment">-- 向表中插入某些列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表 <span class="keyword">values</span> (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3.</span>.); <span class="comment">--向表中插入所有列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表 (列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3.</span>.) <span class="keyword">values</span> <span class="keyword">select</span> (列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3.</span>.) <span class="keyword">from</span> 表</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表 <span class="keyword">values</span> <span class="keyword">select</span> * <span class="keyword">from</span> 表</span><br></pre></td></tr></table></figure>

<p>注意</p>
<ol>
<li>列名数与values后面的值的个数相等</li>
<li>列的顺序与插入的值得顺序一致</li>
<li>列名的类型与插入的值要一致</li>
<li>插入值得时候不能超过最大长度</li>
<li>值如果是字符串或者日期需要加引号’’ （一般是单引号）</li>
</ol>
<p>例如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">sort</span>(<span class="keyword">sid</span>,sname) <span class="keyword">VALUES</span>(<span class="string">'s001'</span>, <span class="string">'电器'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">sort</span>(<span class="keyword">sid</span>,sname) <span class="keyword">VALUES</span>(<span class="string">'s002'</span>, <span class="string">'服饰'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">sort</span> <span class="keyword">VALUES</span>(<span class="string">'s003'</span>, <span class="string">'化妆品'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">sort</span> <span class="keyword">VALUES</span>(<span class="string">'s004'</span>,<span class="string">'书籍'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="更新记录：update"><a href="#更新记录：update" class="headerlink" title="更新记录：update"></a>更新记录：update</h3><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 字段名=值,字段名=值;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 字段名=值,字段名=值 <span class="keyword">where</span> 条件;</span><br></pre></td></tr></table></figure>

<p>注意</p>
<ol>
<li>列名的类型与修改的值要一致</li>
<li>修改值得时候不能超过最大长度</li>
<li>值如果是字符串或者日期需要加’’</li>
</ol>
<h3 id="删除记录：delete"><a href="#删除记录：delete" class="headerlink" title="删除记录：delete"></a>删除记录：delete</h3><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件];</span><br></pre></td></tr></table></figure>

<p>面试题</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">删除表中所有记录使用【<span class="keyword">delete</span> <span class="keyword">from</span> 表名】，还是用【<span class="keyword">truncate</span> <span class="keyword">table</span> 表名】？</span><br><span class="line">删除方式：</span><br><span class="line">- <span class="keyword">delete</span> ：一条一条删除，不清空auto_increment记录数。</span><br><span class="line">- <span class="keyword">truncate</span> ：直接将表删除，重新建表，auto_increment将置为零，从新开始。</span><br></pre></td></tr></table></figure>

<h2 id="DQL语句"><a href="#DQL语句" class="headerlink" title="DQL语句"></a>DQL语句</h2><p>创建商品表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#商品表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> product (</span><br><span class="line">    pid <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT, <span class="comment"># 自增加 AUTO_INCREMENT</span></span><br><span class="line">    pname <span class="built_in">VARCHAR</span>(<span class="number">20</span>),<span class="comment">#商品名称</span></span><br><span class="line">    price <span class="keyword">DOUBLE</span>, <span class="comment">#商品价格</span></span><br><span class="line">    pdate <span class="built_in">DATE</span>, <span class="comment"># 日期</span></span><br><span class="line">    cid <span class="built_in">int</span> <span class="comment">#分类ID</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">#目录表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">category</span>(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> ,</span><br><span class="line">    cname <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product <span class="keyword">VALUES</span>(<span class="literal">NULL</span>,<span class="string">'泰国大榴莲'</span>, <span class="number">98</span>, <span class="literal">NULL</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product <span class="keyword">VALUES</span>(<span class="literal">NULL</span>,<span class="string">'泰国大枣'</span>, <span class="number">38</span>, <span class="literal">NULL</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product <span class="keyword">VALUES</span>(<span class="literal">NULL</span>,<span class="string">'新疆切糕'</span>, <span class="number">68</span>, <span class="literal">NULL</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product <span class="keyword">VALUES</span>(<span class="literal">NULL</span>,<span class="string">'十三香'</span>, <span class="number">10</span>, <span class="literal">NULL</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product <span class="keyword">VALUES</span>(<span class="literal">NULL</span>,<span class="string">'泰国大枣'</span>, <span class="number">20</span>, <span class="literal">NULL</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>,<span class="string">'泰国大枣'</span>,<span class="number">98</span>,<span class="literal">null</span>,<span class="number">20</span>); <span class="comment">#没有对应</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>,<span class="string">'iPhone手机'</span>,<span class="number">800</span>,<span class="literal">null</span>,<span class="number">30</span>);<span class="comment">#没有对应</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">category</span> <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">'国外食品'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">category</span> <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">'国内食品'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">category</span> <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">'国内服装'</span>); <span class="comment">#没有对应</span></span><br></pre></td></tr></table></figure>

<h3 id="完整DQL语法顺序"><a href="#完整DQL语法顺序" class="headerlink" title="完整DQL语法顺序"></a>完整DQL语法顺序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">	&lt; select_list &gt;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	&lt; left_table &gt; &lt; join_type &gt;</span><br><span class="line"><span class="keyword">JOIN</span> </span><br><span class="line">	&lt; right_table &gt; <span class="keyword">ON</span> &lt; join_condition &gt;</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	&lt; where_condition &gt;</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	&lt; group_by_list &gt;</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">	&lt; having_condition &gt;</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	&lt; order_by_condition &gt;</span><br><span class="line"><span class="keyword">LIMIT</span> </span><br><span class="line">	&lt; limit_number &gt;</span><br></pre></td></tr></table></figure>

<h3 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h3><h4 id="SQL语法关键字"><a href="#SQL语法关键字" class="headerlink" title="SQL语法关键字"></a>SQL语法关键字</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">FROM</span></span><br></pre></td></tr></table></figure>

<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><h5 id="查询所有的商品"><a href="#查询所有的商品" class="headerlink" title="查询所有的商品"></a>查询所有的商品</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h5 id="查询商品名和商品价格"><a href="#查询商品名和商品价格" class="headerlink" title="查询商品名和商品价格"></a>查询商品名和商品价格</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> pname,price <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h5 id="别名查询，使用的as关键字，as可以省略的"><a href="#别名查询，使用的as关键字，as可以省略的" class="headerlink" title="别名查询，使用的as关键字，as可以省略的"></a>别名查询，使用的as关键字，as可以省略的</h5><p>表别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">as</span> p;</span><br></pre></td></tr></table></figure>

<p>列别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> pname <span class="keyword">as</span> pn <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h5 id="去掉重复值"><a href="#去掉重复值" class="headerlink" title="去掉重复值"></a>去掉重复值</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> price <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h5 id="查询结果是表达式（运算查询）：将所有商品的价格-10元进行显示"><a href="#查询结果是表达式（运算查询）：将所有商品的价格-10元进行显示" class="headerlink" title="查询结果是表达式（运算查询）：将所有商品的价格+10元进行显示"></a>查询结果是表达式（运算查询）：将所有商品的价格+10元进行显示</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> pname,price+<span class="number">10</span> <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><h4 id="SQL语法关键字-1"><a href="#SQL语法关键字-1" class="headerlink" title="SQL语法关键字"></a>SQL语法关键字</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE</span><br></pre></td></tr></table></figure>

<h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><p>查询商品名称为十三香的商品所有信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> pname = <span class="string">'十三香'</span>;</span><br></pre></td></tr></table></figure>

<p> 查询商品价格&gt;60元的所有的商品信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> price &gt; <span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<h4 id="where后的条件写法"><a href="#where后的条件写法" class="headerlink" title="where后的条件写法"></a>where后的条件写法</h4><p><code>&gt; ,&lt;,=,&gt;=,&lt;=,&lt;&gt;</code></p>
<p>like 使用占位符 _ 和 % _代表一个字符 %代表任意个字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> pname <span class="keyword">like</span> <span class="string">'%新%'</span>;</span><br></pre></td></tr></table></figure>

<p>in在某个范围中获得值（exists）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> pid <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200320172426068.png" alt="image-20200320172426068"></p>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="SQL语法关键字-2"><a href="#SQL语法关键字-2" class="headerlink" title="SQL语法关键字"></a>SQL语法关键字</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ORDER BY</span><br><span class="line">ASC（升序） DESC（降序）</span><br></pre></td></tr></table></figure>

<h4 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h4><h5 id="查询所有的商品，按价格进行排序-asc-升序-desc-降序"><a href="#查询所有的商品，按价格进行排序-asc-升序-desc-降序" class="headerlink" title="查询所有的商品，按价格进行排序.(asc-升序,desc-降序)"></a>查询所有的商品，按价格进行排序.(asc-升序,desc-降序)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">order</span> <span class="keyword">by</span> price;</span><br></pre></td></tr></table></figure>

<h5 id="查询名称有新的商品的信息并且按价格降序排序"><a href="#查询名称有新的商品的信息并且按价格降序排序" class="headerlink" title="查询名称有新的商品的信息并且按价格降序排序"></a>查询名称有新的商品的信息并且按价格降序排序</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> pname <span class="keyword">like</span> <span class="string">'%新%'</span> <span class="keyword">order</span> <span class="keyword">by</span> price <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h3 id="聚合函数（组函数）"><a href="#聚合函数（组函数）" class="headerlink" title="聚合函数（组函数）"></a>聚合函数（组函数）</h3><p>特点：只对单列进行操作</p>
<h4 id="常用的聚合函数"><a href="#常用的聚合函数" class="headerlink" title="常用的聚合函数"></a>常用的聚合函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sum()：求某一列的和</span><br><span class="line"></span><br><span class="line">avg()：求某一列的平均值</span><br><span class="line"></span><br><span class="line">max()：求某一列的最大值</span><br><span class="line"></span><br><span class="line">min()：求某一列的最小值</span><br><span class="line"></span><br><span class="line">count()：求某一列的元素个数</span><br></pre></td></tr></table></figure>

<h4 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h4><h5 id="获得所有商品的价格的总和"><a href="#获得所有商品的价格的总和" class="headerlink" title="获得所有商品的价格的总和"></a>获得所有商品的价格的总和</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(price) <span class="keyword">from</span> product;</span><br></pre></td></tr></table></figure>

<h5 id="获得所有商品的平均价格"><a href="#获得所有商品的平均价格" class="headerlink" title="获得所有商品的平均价格"></a>获得所有商品的平均价格</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select avg(price) from product;</span><br></pre></td></tr></table></figure>

<h5 id="获得所有商品的个数"><a href="#获得所有商品的个数" class="headerlink" title="获得所有商品的个数"></a>获得所有商品的个数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from product;</span><br></pre></td></tr></table></figure>

<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><h4 id="SQL语法关键字-3"><a href="#SQL语法关键字-3" class="headerlink" title="SQL语法关键字"></a>SQL语法关键字</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GROUP BY</span><br><span class="line">HAVING</span><br></pre></td></tr></table></figure>

<h4 id="案例-4"><a href="#案例-4" class="headerlink" title="案例"></a>案例</h4><h4 id="SQL语法关键字-4"><a href="#SQL语法关键字-4" class="headerlink" title="SQL语法关键字"></a>SQL语法关键字</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GROUP BY</span><br><span class="line">HAVING</span><br></pre></td></tr></table></figure>

<h4 id="案例-5"><a href="#案例-5" class="headerlink" title="案例"></a>案例</h4><p>根据cno字段分组，分组后统计商品的个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cid,<span class="keyword">count</span>(*) <span class="keyword">from</span> product <span class="keyword">group</span> <span class="keyword">by</span> cid;</span><br></pre></td></tr></table></figure>

<p>根据cno分组，分组统计每组商品的平均价格，并且平均价格&gt; 60</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cid,<span class="keyword">avg</span>(price) <span class="keyword">from</span> product <span class="keyword">group</span> <span class="keyword">by</span> cid <span class="keyword">having</span> <span class="keyword">avg</span>(price)&gt;<span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<p>注意事项</p>
<ol>
<li>select语句中的列（非聚合函数列），必须出现在group by子句中</li>
<li>group by子句中的列，不一定要出现在select语句中</li>
<li>聚合函数只能出现select语句中或者having语句中，一定不能出现在where语句中</li>
</ol>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIMIT [offset,] rows</span><br></pre></td></tr></table></figure>

<p>LIMIT 可以传入一个或两个参数，LIMIT [位置偏移量]，返回数据的数量</p>
<p>位置偏移量是指：查询的开始的位置，例如：第一条数据的偏移量则为 0，第二条数据的偏移量为 1 …….</p>
<p>返回数据的数量：查询数据所返回的记录条数</p>
<p>简单来说就是</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">limit</span> a,b</span><br></pre></td></tr></table></figure>

<p>a 指：开始的index位置，从0开始，表示第一条数据，b 指：返回的数据量</p>
<p><code>LIMIT</code>关键字不是 SQL92 标准提出的关键字，它是 MySQL 独有的语法，通过 limit 关键字， MySQL 实现了物理分页</p>
<h5 id="分页分为逻辑分页和物理分页"><a href="#分页分为逻辑分页和物理分页" class="headerlink" title="分页分为逻辑分页和物理分页"></a>分页分为逻辑分页和物理分页</h5><p>逻辑分页：将数据库中的数据查询到内存之后再进行分页</p>
<p>物理分页：通过LIMIT关键字，直接在数据库中进行分页，最终返回的数据，只是分页后的数据</p>
<h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">LIMIT</span> [<span class="keyword">offset</span>,] <span class="keyword">rows</span></span><br></pre></td></tr></table></figure>

<p><code>offset</code> ：偏移量，<code>rows</code>：每页多少行记录</p>
<h4 id="案例-6"><a href="#案例-6" class="headerlink" title="案例"></a>案例</h4><p>1查询商品表中前10条数据（从第一条数据开始，查询10条数据）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">limit</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>2一般情况，limit 用于分页场景</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当前的页数 (例如当前为第一页)</span></span><br><span class="line"> <span class="keyword">int</span> currentPage = <span class="number">0</span>; </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 每页显示多少条记录 (例如显示每页10条记录)</span></span><br><span class="line"> <span class="keyword">int</span> pageSize = <span class="number">10</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//开始的位置(位置偏移量)</span></span><br><span class="line"> <span class="keyword">int</span> startRow = (currentPage - <span class="number">1</span>) * pageSize;</span><br></pre></td></tr></table></figure>

<p>数据库limit分页语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">limit</span> startRow,pageSize</span><br></pre></td></tr></table></figure>

<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>子查询允许把一个查询嵌套在另一个查询当中</p>
<p>子查询，又叫内部查询，相对于内部查询，包含内部查询的就称为外部查询</p>
<p>子查询可以包含普通select可以包括的任何子句，比如：distinct、 group by、order by、limit、join和union等，但是对应的外部查询必须是以下语句之一：select、insert、update、delete</p>
<h4 id="位置"><a href="#位置" class="headerlink" title="位置"></a>位置</h4><p>select中、from 后、where 中，group by 和order by 中无实用意义</p>
<h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><p>查询所有的商品和产品所属的分类</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.* , (<span class="keyword">select</span> cname <span class="keyword">from</span> <span class="keyword">category</span> b <span class="keyword">where</span> a.cid=b.id) cname <span class="keyword">from</span> product a;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid  | cname        |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">|   1 | 泰国大榴莲      |    98 | NULL  |    1 | 国外食品     |</span><br><span class="line">|   2 | 泰国大枣        |    38 | NULL  |    1 | 国外食品     |</span><br><span class="line">|   3 | 新疆切糕        |    68 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   4 | 十三香          |    10 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   5 | 泰国大枣        |    20 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   6 | 泰国大枣        |    98 | NULL  |   20 | NULL         |</span><br><span class="line">|   7 | iPhone手机      |   800 | NULL  |   30 | NULL         |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure>

<p>查询商品和对应的分类编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> cid <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> <span class="keyword">category</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid  |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+</span></span><br><span class="line">|   1 | 泰国大榴莲      |    98 | NULL  |    1 |</span><br><span class="line">|   3 | 新疆切糕        |    68 | NULL  |    2 |</span><br><span class="line">|   6 | 泰国大枣        |    98 | NULL  |   20 |</span><br><span class="line">|   7 | iPhone手机      |   800 | NULL  |   30 |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>查询价格大于50的商品和分类编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.* <span class="keyword">from</span> (<span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> price &gt;<span class="number">50</span>) a;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid  | cname        |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">|   1 | 泰国大榴莲      |    98 | NULL  |    1 | 国外食品     |</span><br><span class="line">|   2 | 泰国大枣        |    38 | NULL  |    1 | 国外食品     |</span><br><span class="line">|   3 | 新疆切糕        |    68 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   4 | 十三香          |    10 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   5 | 泰国大枣        |    20 | NULL  |    2 | 国内食品     |</span><br><span class="line">|   6 | 泰国大枣        |    98 | NULL  |   20 | NULL         |</span><br><span class="line">|   7 | iPhone手机      |   800 | NULL  |   30 | NULL         |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+--------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="其他查询语句"><a href="#其他查询语句" class="headerlink" title="其他查询语句"></a>其他查询语句</h3><p>union 集合的并集（不包含重复记录）</p>
<p>unionall 集合的并集（包含重复记录）</p>
<h2 id="SQL解析顺序"><a href="#SQL解析顺序" class="headerlink" title="SQL解析顺序"></a>SQL解析顺序</h2><p>接下来再走一步，让我们看看一条SQL语句的前世今生</p>
<p>首先看一下示例语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">	&lt; select_list &gt;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	&lt; left_table &gt; &lt; join_type &gt;</span><br><span class="line"><span class="keyword">JOIN</span> &lt; right_table &gt; <span class="keyword">ON</span> &lt; join_condition &gt;</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	&lt; where_condition &gt;</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	&lt; group_by_list &gt;</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">	&lt; having_condition &gt;</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	&lt; order_by_condition &gt;</span><br><span class="line"><span class="keyword">LIMIT</span> </span><br><span class="line">	&lt; limit_number &gt;</span><br></pre></td></tr></table></figure>

<p>然而它的执行顺序是这样的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 行过滤</span></span><br><span class="line">1 FROM &lt;left_table&gt;</span><br><span class="line">2 ON &lt;join_condition&gt;</span><br><span class="line">3 &lt;join_type&gt; JOIN &lt;right_table&gt; 第二步和第三步会循环执行</span><br><span class="line">4 WHERE &lt;where_condition&gt; 第四步会循环执行，多个条件的执行顺序是从左往右的</span><br><span class="line">5 GROUP BY &lt;group_by_list&gt;</span><br><span class="line">6 HAVING &lt;having_condition&gt;</span><br><span class="line"><span class="comment">--列过滤</span></span><br><span class="line">7 <span class="keyword">SELECT</span> 分组之后才会执行<span class="keyword">SELECT</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">DISTINCT</span> &lt;select_list&gt;</span><br><span class="line"><span class="comment">--排序</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> &lt;order_by_condition&gt;</span><br><span class="line"><span class="comment">-- MySQL附加</span></span><br><span class="line"><span class="number">10</span> <span class="keyword">LIMIT</span> &lt;limit_number&gt; 前<span class="number">9</span>步都是SQL92标准语法。<span class="keyword">limit</span>是MySQL的独有语法。</span><br></pre></td></tr></table></figure>

<p>虽然自己没想到是这样的，不过一看还是很自然和谐的，从哪里获取，不断的过滤条件，要选择一样或不一样的，排好序，那样才知道要取前几条，既然如此了，那就让我们根据案例一步步来看看其中的细节</p>
<h3 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h3><p>当涉及多个表的时候，左边表的输出会作为右边表的输入，之后会生成一个虚拟表VT1</p>
<h4 id="1-J1-笛卡尔积"><a href="#1-J1-笛卡尔积" class="headerlink" title="(1-J1)笛卡尔积"></a>(1-J1)笛卡尔积</h4><p>计算两个相关联表的笛卡尔积(CROSS JOIN) ，生成虚拟表VT1-J1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product,category;</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 2 | 国内食品 |</span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 3 | 国内服装 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 2 | 国内食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 3 | 国内服装 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 1 | 国外食品 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 3 | 国内服装 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 1 | 国外食品 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 3 | 国内服装 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 1 | 国外食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 3 | 国内服装 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | 1 | 国外食品 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | 2 | 国内食品 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | 3 | 国内服装 |</span><br><span class="line">| 7 | iPhone手机 | 800 | NULL | 30 | 1 | 国外食品 |</span><br><span class="line">| 7 | iPhone手机 | 800 | NULL | 30 | 2 | 国内食品 |</span><br><span class="line">| 7 | iPhone手机 | 800 | NULL | 30 | 3 | 国内服装 |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">21 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="1-J2-ON过滤"><a href="#1-J2-ON过滤" class="headerlink" title="(1-J2)ON过滤"></a>(1-J2)ON过滤</h4><p>基于虚拟表VT1-J1这一个虚拟表进行过滤，过滤出所有满足ON 谓词条件的列，生成虚拟表VT1-J2</p>
<p><strong>注意</strong></p>
<p>这里因为语法限制，使用了<code>WHERE</code>代替，从中也可以感受到jion和on之间微妙的关系（inner-join）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a , category b where a.cid=b.id;</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h4 id="1-J3-添加外部列"><a href="#1-J3-添加外部列" class="headerlink" title="(1-J3)添加外部列"></a>(1-J3)添加外部列</h4><p>如果使用了外连接(LEFT,RIGHT,FULL)，主表（保留表）中的不符合ON条件的列也会被加入到VT1-J2中，作为外部行，生成虚拟表VT1-J3</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id; # 以左表</span><br><span class="line">数据为准</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | NULL | NULL |</span><br><span class="line">| 7 | iPhone手机 | 800 | NULL | 30 | NULL | NULL |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+------+--------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> product a <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="keyword">category</span> b <span class="keyword">on</span> a.cid=b.id; <span class="comment">#以右表</span></span><br><span class="line">数据为准</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| 1 | 泰国大榴莲 | 98 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 3 | 新疆切糕 | 68 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 4 | 十三香 | 10 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| NULL | NULL | NULL | NULL | NULL | 3 | 国内服装 |</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321091659817.png" alt="image-20200321091659817"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tbl_dept`</span> (</span><br><span class="line"> <span class="string">`id`</span> <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line"> <span class="string">`deptName`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"> <span class="string">`locAdd`</span> <span class="built_in">VARCHAR</span>(<span class="number">40</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"> PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tbl_emp`</span> (</span><br><span class="line"> <span class="string">`id`</span> <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line"> <span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"> <span class="string">`deptId`</span> <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"> PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>),</span><br><span class="line"> <span class="keyword">KEY</span> <span class="string">`fk_dept_id`</span> (<span class="string">`deptId`</span>)</span><br><span class="line"> <span class="comment">#CONSTRAINT `fk_dept_id` FOREIGN KEY (`deptId`) REFERENCES `tbl_dept` (`id`)</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_dept(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'RD'</span>,<span class="number">11</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_dept(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'HR'</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_dept(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'MK'</span>,<span class="number">13</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_dept(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'MIS'</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_dept(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'FD'</span>,<span class="number">15</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z3'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z4'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z5'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'w5'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'w6'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s7'</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s8'</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_emp(<span class="keyword">NAME</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s9'</span>,<span class="number">51</span>);</span><br></pre></td></tr></table></figure>

<p>1 A、B两表共有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tbl_emp a <span class="keyword">inner</span> <span class="keyword">join</span> tbl_dept b <span class="keyword">on</span> a.deptId = b.id;</span><br></pre></td></tr></table></figure>

<p>2 A、B两表共有+A的独有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tbl_emp a <span class="keyword">left</span> <span class="keyword">join</span> tbl_dept b <span class="keyword">on</span> a.deptId = b.id;</span><br></pre></td></tr></table></figure>

<p>3 A、B两表共有+B的独有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tbl_emp a <span class="keyword">right</span> <span class="keyword">join</span> tbl_dept b <span class="keyword">on</span> a.deptId = b.id;</span><br></pre></td></tr></table></figure>

<p>4 A的独有 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tbl_emp a <span class="keyword">left</span> <span class="keyword">join</span> tbl_dept b <span class="keyword">on</span> a.deptId = b.id <span class="keyword">where</span> b.id <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>5 B的独有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tbl_emp a <span class="keyword">right</span> <span class="keyword">join</span> tbl_dept b <span class="keyword">on</span> a.deptId = b.id <span class="keyword">where</span> a.deptId <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>6 AB全有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#MySQL Full Join的实现 因为MySQL不支持FULL JOIN,下面是替代方法</span></span><br><span class="line"><span class="comment">#left join + union(可去除重复数据)+ right join</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tbl_emp A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> tbl_dept B <span class="keyword">ON</span> A.deptId = B.id</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tbl_emp A <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> tbl_dept B <span class="keyword">ON</span> A.deptId = B.id</span><br></pre></td></tr></table></figure>

<p>7 A的独有+B的独有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tbl_emp A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> tbl_dept B <span class="keyword">ON</span> A.deptId = B.id <span class="keyword">WHERE</span> B.<span class="string">`id`</span> <span class="keyword">IS</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tbl_emp A <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> tbl_dept B <span class="keyword">ON</span> A.deptId = B.id <span class="keyword">WHERE</span> A.<span class="string">`deptId`</span> <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>

<h3 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h3><p>对VT1过程中生成的临时表进行过滤，满足WHERE子句的列被插入到VT2表中</p>
<p><strong>注意</strong></p>
<p>此时因为分组，不能使用聚合运算，也不能使用SELECT中创建的别名</p>
<p><strong>与ON的区别</strong></p>
<p>如果有外部列，ON针对过滤的是关联表，主表（保留表）会返回所有的列</p>
<p>如果没有添加外部列，两者的效果是一样的</p>
<p><strong>应用</strong></p>
<p>对主表的过滤应该放在WHERE</p>
<p>对于关联表，先条件查询后连接则用ON，先连接后条件查询则用WHERE</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id where</span><br><span class="line">a.pname='泰国大枣';</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | NULL | NULL |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h3><p>这个子句会把VT2中生成的表按照GROUP BY中的列进行分组。生成VT3表</p>
<p><strong>注意</strong></p>
<p>其后处理过程的语句，如SELECT，HAVING，所用到的列必须包含在GROUP BY中。对于没有出现的，得用聚合函数</p>
<p><strong>原因</strong></p>
<p>GROUP BY改变了对表的引用，将其转换为新的引用方式，能够对其进行下一级逻辑操作的列会减少</p>
<p><strong>理解</strong></p>
<p>根据分组字段，将具有相同分组字段的记录归并成一条记录，因为每一个分组只能返回一条记录，除非是被过滤掉了，而不在分组字段里面的字段可能会有多个值，多个值是无法放进一条记录的，所以必须通过聚合函数将这些具有多值的列转换成单值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id where</span><br><span class="line">a.pname='泰国大枣' group by a.price;</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 6 | 泰国大枣 | 98 | NULL | 20 | NULL | NULL |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="HAVING"><a href="#HAVING" class="headerlink" title="HAVING"></a>HAVING</h3><p>这个子句对VT3表中的不同的组进行过滤，只作用于分组后的数据，满足HAVING条件的子句被加入到VT4表中</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id where</span><br><span class="line">a.pname='泰国大枣' group by a.price having b.id &lt;=2;</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h3><p>这个子句对SELECT子句中的元素进行处理，生成VT5表</p>
<h4 id="5-J1-计算表达式"><a href="#5-J1-计算表达式" class="headerlink" title="(5-J1)计算表达式"></a>(5-J1)计算表达式</h4><p>计算SELECT 子句中的表达式，生成VT5-J1</p>
<h4 id="5-J2-DISTINCT"><a href="#5-J2-DISTINCT" class="headerlink" title="(5-J2)DISTINCT"></a>(5-J2)DISTINCT</h4><p>寻找VT5-1中的重复列，并删掉，生成VT5-J2</p>
<p>如果在查询中指定了DISTINCT子句，则会创建一张内存临时表（如果内存放不下，就需要存放在硬盘了）。这张临时表的表结构和上一步产生的虚拟表VT5是一样的，不同的是对进行DISTINCT操作的列增加了一个唯一索引，以此来除重复数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select distinct a.pname from product a left outer join category b on</span><br><span class="line">a.cid=b.id where a.pname='泰国大枣' group by a.price ;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| pname |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| 泰国大枣 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><p>从VT5-J2中的表中，根据ORDER BY 子句的条件对结果进行排序，生成VT6表</p>
<p><strong>注意</strong></p>
<p>唯一可使用SELECT中别名的地方</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id where</span><br><span class="line">a.pname='泰国大枣' group by a.price having b.id &lt;=2 order by b.id;</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">| 5 | 泰国大枣 | 20 | NULL | 2 | 2 | 国内食品 |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="LIMIT（MySQL特有）"><a href="#LIMIT（MySQL特有）" class="headerlink" title="LIMIT（MySQL特有）"></a>LIMIT（MySQL特有）</h3><p>LIMIT子句从上一步得到的VT6虚拟表中选出从指定位置开始的指定行数据</p>
<p><strong>注意</strong></p>
<p>offset 和 rows 的正负带来的影响</p>
<p>当偏移量很大时效率是很低的，可以这么做</p>
<p>采用子查询的方式优化 ，在子查询里先从索引获取到最大id，然后倒序排，再取N行结果集</p>
<p>采用INNER JOIN优化 ，JOIN子句里也优先从索引获取ID列表，然后直接关联查询获得最终结果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product a left outer join category b on a.cid=b.id where</span><br><span class="line">a.pname='泰国大枣' group by a.price having b.id &lt;=2 order by b.id limit 1;</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+-</span></span><br><span class="line"><span class="comment">-----+--------------+</span></span><br><span class="line">| pid | pname | price | pdate | cid | id | cname |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">| 2 | 泰国大枣 | 38 | NULL | 1 | 1 | 国外食品 |</span><br><span class="line">+<span class="comment">-----+--------------+-------+-------+------+------+--------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="解析顺序总结"><a href="#解析顺序总结" class="headerlink" title="解析顺序总结"></a>解析顺序总结</h3><h4 id="图示"><a href="#图示" class="headerlink" title="图示"></a>图示</h4><p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321094719861.png" alt="image-20200321094719861"></p>
<h4 id="流程分析"><a href="#流程分析" class="headerlink" title="流程分析"></a>流程分析</h4><ol>
<li>FROM（将最近的两张表，进行笛卡尔积）—VT1-J1</li>
<li>ON（将VT1-J1按照它的条件进行过滤）—VT1-J2</li>
<li>LEFT JOIN（保留左表的记录）—VT1-J3</li>
<li>WHERE（过滤VT1中的记录）–VT2</li>
<li>GROUP BY（对VT2的记录进行分组）—VT3</li>
<li>HAVING（对VT3中的记录进行过滤）—VT4</li>
<li>SELECT（对VT5中的记录选取指定的列）–VT5-J2</li>
<li>ORDER BY（对VT5-J2的记录进行排序）–VT6</li>
<li>LIMIT（对排序之后的值进行分页）–MySQL特有的语法</li>
</ol>
<h4 id="流程说明"><a href="#流程说明" class="headerlink" title="流程说明"></a>流程说明</h4><ul>
<li><p>单表查询：根据 WHERE 条件过滤表中的记录，形成中间表（这个中间表对用户是不可见的），然后根据 SELECT 的选择列选择相应的列进行返回最终结果</p>
</li>
<li><p>两表连接查询：对两表求积（笛卡尔积）并用 ON 条件和连接连接类型进行过滤形成中间表；然后根据WHERE条件过滤中间表的记录，并根据 SELECT 指定的列返回查询结果</p>
<p>笛卡尔积：行相乘、列相加</p>
</li>
<li><p>多表连接查询：先对第一个和第二个表按照两表连接做查询，然后用查询结果和第三个表做连接查询，以此类推，直到所有的表都连接上为止，最终形成一个中间的结果表，然后根据WHERE条件过滤中间表的记录，并根据SELECT指定的列返回查询结果</p>
</li>
</ul>
<h4 id="WHERE条件解析顺序"><a href="#WHERE条件解析顺序" class="headerlink" title="WHERE条件解析顺序"></a>WHERE条件解析顺序</h4><p>MySQL ：从左往右去执行 WHERE 条件的</p>
<p>Oracle ：从右往左去执行 WHERE 条件的</p>
<p>写WHERE条件的时候，优先级高的部分要去编写过滤力度最大的条件语句</p>
<h2 id="表与表之间的关系"><a href="#表与表之间的关系" class="headerlink" title="表与表之间的关系"></a>表与表之间的关系</h2><h3 id="表关系的概念"><a href="#表关系的概念" class="headerlink" title="表关系的概念"></a>表关系的概念</h3><p>现实生活中，实体与实体之间肯定是有关系的，比如：老公和老婆，部门和员工，老师和学生等。那么我们在设计表的时候，就应该体现出表与表之间的这种关系</p>
<table>
<thead>
<tr>
<th>表与表之间的三种关系</th>
</tr>
</thead>
<tbody><tr>
<td>一对多：最常用的关系部门和员工</td>
</tr>
<tr>
<td>多对多：学生选课表和学生表，一门课程可以有多个学生选择，一个学生选择多门课程</td>
</tr>
<tr>
<td>一对一：相对使用比较少。员工表简历表，公民表护照表</td>
</tr>
</tbody></table>
<h3 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h3><p>对多（1:n）例如：班级和学生，部门和员工，客户和订单，分类和商品</p>
<p>一对多建表原则：在从表(多方)创建一个字段,字段作为外键指向主表(一方)的主键</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321181920412.png" alt="image-20200321181920412"></p>
<h3 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h3><p>多对多（m:n）例如：老师和学生，学生和课程，用户和角色</p>
<p>多对多关系建表原则：需要创建第三张表，中间表中至少两个字段，这两个字段分别作为外键指向各自一方的主键</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321182006319.png" alt="image-20200321182006319"></p>
<h3 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h3><p>一对一（1:1）在实际的开发中应用不多.因为一对一可以创建成一张表</p>
<p>两种建表原则：</p>
<table>
<thead>
<tr>
<th>一对一的建表原则</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>外键唯一</td>
<td>主表的主键和从表的外键（唯一），形成主外键关系，外键唯一UNIQUE</td>
</tr>
<tr>
<td>外键是主键</td>
<td>主表的主键和从表的主键，形成主外键关系</td>
</tr>
</tbody></table>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321182850604.png" alt="image-20200321182850604"></p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321182858923.png" alt="image-20200321182858923"></p>
<h3 id="一对多关系案例"><a href="#一对多关系案例" class="headerlink" title="一对多关系案例"></a>一对多关系案例</h3><h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p>一个旅游线路分类中有多个旅游线路</p>
<p>界面</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321183722970.png" alt="image-20200321183722970"></p>
<p>表与表的关系</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321183739763.png" alt="image-20200321183739763"></p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321183749997.png" alt="image-20200321183749997"></p>
<h4 id="具体操作"><a href="#具体操作" class="headerlink" title="具体操作"></a>具体操作</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建旅游线路分类表tab_category</span></span><br><span class="line"><span class="comment">-- cid旅游线路分类主键，自动增长</span></span><br><span class="line"><span class="comment">-- cname旅游线路分类名称非空，唯一，字符串100</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_category (</span><br><span class="line">cid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">cname <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">unique</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加旅游线路分类数据：</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_category (cname) <span class="keyword">values</span> (<span class="string">'周边游'</span>), (<span class="string">'出境游'</span>), (<span class="string">'国内游'</span>), (<span class="string">'港澳游'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tab_category;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建旅游线路表tab_route</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">rid旅游线路主键，自动增长</span></span><br><span class="line"><span class="comment">rname旅游线路名称非空，唯一，字符串100</span></span><br><span class="line"><span class="comment">price价格</span></span><br><span class="line"><span class="comment">rdate 上架时间，日期类型</span></span><br><span class="line"><span class="comment">cid 外键，所属分类</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_route(</span><br><span class="line">rid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">rname <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">unique</span>,</span><br><span class="line">price <span class="keyword">double</span>,</span><br><span class="line">rdate <span class="built_in">date</span>,</span><br><span class="line">cid <span class="built_in">int</span>,</span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span> (cid) <span class="keyword">references</span> tab_category(cid)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加旅游线路数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab_route <span class="keyword">VALUES</span></span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'【厦门+鼓浪屿+南普陀寺+曾厝垵高铁3天惠贵团】尝味友鸭面线住1晚鼓浪屿'</span>, <span class="number">1499</span>,</span><br><span class="line"><span class="string">'2018-01-27'</span>, <span class="number">1</span>),</span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'【浪漫桂林阳朔西街高铁3天纯玩高级团】城徽象鼻山兴坪漓江西山公园'</span>, <span class="number">699</span>, <span class="string">'2018-02-</span></span><br><span class="line"><span class="string">22'</span>, <span class="number">3</span>),</span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'【爆款￥1699秒杀】泰国曼谷芭堤雅金沙岛杜拉拉水上市场双飞六天【含送签费泰风情广州</span></span><br><span class="line"><span class="string">往返特价团】'</span>, <span class="number">1699</span>, <span class="string">'2018-01-27'</span>, <span class="number">2</span>),</span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'【经典•狮航￥2399秒杀】巴厘岛双飞五天抵玩【广州往返特价团】'</span>, <span class="number">2399</span>, <span class="string">'2017-12-23'</span>,</span><br><span class="line"><span class="number">2</span>),</span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'香港迪士尼乐园自由行2天【永东跨境巴士广东至迪士尼去程交通+迪士尼一日门票+香港如心海景酒店</span></span><br><span class="line"><span class="string">暨会议中心标准房1晚住宿】'</span>, <span class="number">799</span>, <span class="string">'2018-04-10'</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tab_route;</span><br></pre></td></tr></table></figure>

<h3 id="多对多关系案例"><a href="#多对多关系案例" class="headerlink" title="多对多关系案例"></a>多对多关系案例</h3><h4 id="需求-1"><a href="#需求-1" class="headerlink" title="需求"></a>需求</h4><p>一个用户收藏多个线路，一个线路被多个用户收藏</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321184638957.png" alt="image-20200321184638957"></p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321184650552.png" alt="image-20200321184650552"></p>
<p>对于多对多的关系我们需要增加一张中间表来维护他们之间的关系</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321184716412.png" alt="image-20200321184716412"></p>
<p>具体操作</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">创建用户表tab_user</span></span><br><span class="line"><span class="comment">uid用户主键，自增长</span></span><br><span class="line"><span class="comment">username用户名长度100，唯一，非空</span></span><br><span class="line"><span class="comment">password密码长度30，非空</span></span><br><span class="line"><span class="comment">name真实姓名长度100</span></span><br><span class="line"><span class="comment">birthday生日</span></span><br><span class="line"><span class="comment">sex性别，定长字符串1</span></span><br><span class="line"><span class="comment">telephone手机号，字符串11</span></span><br><span class="line"><span class="comment">email邮箱，字符串长度100</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_user (</span><br><span class="line">uid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">username <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">100</span>),</span><br><span class="line">birthday <span class="built_in">date</span>,</span><br><span class="line">sex <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">'男'</span>,</span><br><span class="line">telephone <span class="built_in">varchar</span>(<span class="number">11</span>),</span><br><span class="line">email <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">)</span><br><span class="line"><span class="comment">-- 添加用户数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab_user <span class="keyword">VALUES</span></span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'cz110'</span>, <span class="number">123456</span>, <span class="string">'老王'</span>, <span class="string">'1977-07-07'</span>, <span class="string">'男'</span>, <span class="string">'13888888888'</span>, <span class="string">'66666@qq.com'</span>),</span><br><span class="line">(<span class="literal">NULL</span>, <span class="string">'cz119'</span>, <span class="number">654321</span>, <span class="string">'小王'</span>, <span class="string">'1999-09-09'</span>, <span class="string">'男'</span>, <span class="string">'13999999999'</span>, <span class="string">'99999@qq.com'</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tab_user;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">创建收藏表tab_favorite</span></span><br><span class="line"><span class="comment">rid 旅游线路id，外键</span></span><br><span class="line"><span class="comment">date 收藏时间</span></span><br><span class="line"><span class="comment">uid用户id，外键</span></span><br><span class="line"><span class="comment">rid和uid不能重复，设置复合主键，同一个用户不能收藏同一个线路两次</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_favorite (</span><br><span class="line">rid <span class="built_in">int</span>,</span><br><span class="line"><span class="built_in">date</span> datetime,</span><br><span class="line">uid <span class="built_in">int</span>,</span><br><span class="line"><span class="comment">-- 创建复合主键</span></span><br><span class="line">primary <span class="keyword">key</span>(rid,uid),</span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span> (rid) <span class="keyword">references</span> tab_route(rid),</span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span>(uid) <span class="keyword">references</span> tab_user(uid)</span><br><span class="line">)</span><br><span class="line"><span class="comment">-- 增加收藏表数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tab_favorite <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'2018-01-01'</span>, <span class="number">1</span>), <span class="comment">-- 老王选择厦门</span></span><br><span class="line">(<span class="number">2</span>, <span class="string">'2018-02-11'</span>, <span class="number">1</span>), <span class="comment">-- 老王选择桂林</span></span><br><span class="line">(<span class="number">3</span>, <span class="string">'2018-03-21'</span>, <span class="number">1</span>), <span class="comment">-- 老王选择泰国</span></span><br><span class="line">(<span class="number">2</span>, <span class="string">'2018-04-21'</span>, <span class="number">2</span>), <span class="comment">-- 小王选择桂林</span></span><br><span class="line">(<span class="number">3</span>, <span class="string">'2018-05-08'</span>, <span class="number">2</span>), <span class="comment">-- 小王选择泰国</span></span><br><span class="line">(<span class="number">5</span>, <span class="string">'2018-06-02'</span>, <span class="number">2</span>); <span class="comment">-- 小王选择迪士尼</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tab_favorite;</span><br></pre></td></tr></table></figure>

<h3 id="表与表之间的关系小结"><a href="#表与表之间的关系小结" class="headerlink" title="表与表之间的关系小结"></a>表与表之间的关系小结</h3><table>
<thead>
<tr>
<th>表与表的关系</th>
<th>关系的维护</th>
</tr>
</thead>
<tbody><tr>
<td>一对多</td>
<td>主外键的关系</td>
</tr>
<tr>
<td>多对多</td>
<td>中间表，两个一对多</td>
</tr>
<tr>
<td>一对一</td>
<td>1）特殊一对多，从表中的外键设置为唯一  2）从表中的主键又是外键</td>
</tr>
</tbody></table>
<p>分类表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">category</span>(</span><br><span class="line">    cid <span class="built_in">varchar</span>(<span class="number">32</span>) primary <span class="keyword">key</span>,</span><br><span class="line">    cname <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>商品表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> product(</span><br><span class="line">    pid <span class="built_in">varchar</span>(<span class="number">32</span>) primary <span class="keyword">key</span>,</span><br><span class="line">    pname <span class="built_in">varchar</span>(<span class="number">40</span>),</span><br><span class="line">    price <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>订单表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> orders(</span><br><span class="line">    <span class="keyword">oid</span> <span class="built_in">varchar</span>(<span class="number">32</span>) primary <span class="keyword">key</span>,</span><br><span class="line">    totalprice <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>订单项表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> orderitem(</span><br><span class="line">    <span class="keyword">oid</span> <span class="built_in">varchar</span>(<span class="number">50</span>),</span><br><span class="line">    pid <span class="built_in">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="表与表之间的关系-1"><a href="#表与表之间的关系-1" class="headerlink" title="表与表之间的关系"></a>表与表之间的关系</h3><p>表与表之间的关系，说的就是表与表之间数据的关系</p>
<ul>
<li>一对一关系<br>常见实例：一夫一妻</li>
<li>一对多关系<br>常见实例：会员和订单</li>
<li>多对多关系（需要中间表实现）<br>常见实例：商品和订单</li>
</ul>
<h3 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h3><p>如何表示表与表之间的关系呢？就是使用外键约束表示的</p>
<p>要想理解外键，我们先去理解表的角色：主表和从表（需要建立关系才有了主从表的角色区分）</p>
<p>主从表的理解</p>
<img src="/2020/03/20/8MySQL/1MySQL/image-20200321125142540.png" alt="image-20200321125142540" style="zoom:67%;">

<p>现在我们有两张表“分类表”和“商品表”</p>
<p>目前从表的声明上来说，没有关系，但是我们有个需求：</p>
<p>商品应该有所属的分类，这个时候需要将分类表和商品表建立关系，如何建立？</p>
<p>按照以上需求分析：</p>
<p>主表是：商品表。主表中，应该有一个字段去关联从表，而这个关联字段就是外键</p>
<p>从表是：分类表。从表中，应该有一个字段去关联主表，而这个关联字段就是主键</p>
<p>主键外键的理解</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321125234610.png" alt="image-20200321125234610"></p>
<p>如何操作外键</p>
<p>主表添加外键的格式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名<span class="keyword">add</span> [<span class="keyword">constraint</span>][约束名称] <span class="keyword">foreign</span> <span class="keyword">key</span> (主表外键字段) <span class="keyword">references</span> 从表(从表主键)</span><br></pre></td></tr></table></figure>

<p>主表删除外键的格式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名<span class="keyword">drop</span> <span class="keyword">foreign</span> <span class="keyword">key</span> 外键约束名称</span><br></pre></td></tr></table></figure>

<p>使用外键目的</p>
<p>保证数据完整性（数据保存在多张表中的时候）</p>
<p>在互联网项目中，一般情况下，不建议建立外键关系</p>
<h3 id="一对一关系（了解）"><a href="#一对一关系（了解）" class="headerlink" title="一对一关系（了解）"></a>一对一关系（了解）</h3><p>在实际工作中，一对一在开发中应用不多，因为一对一完全可以创建成一张表</p>
<p>案例：一个丈夫只能有一个妻子</p>
<p>建表语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wife(</span><br><span class="line">  <span class="keyword">id</span>  <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> ,</span><br><span class="line">  wname  <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">  sex <span class="built_in">CHAR</span>(<span class="number">1</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> husband(</span><br><span class="line">  <span class="keyword">id</span>  <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> ,</span><br><span class="line">  hname  <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">  sex <span class="built_in">CHAR</span>(<span class="number">1</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>一对一关系创建方式1之外键唯一</p>
<p>添加外键列wid，指定该列的约束为唯一（不加唯一约束就是一对多关系）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> husband <span class="keyword">ADD</span> wid <span class="built_in">INT</span> <span class="keyword">UNIQUE</span>;</span><br></pre></td></tr></table></figure>

<p>添加外键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> husband <span class="keyword">add</span> <span class="keyword">foreign</span> <span class="keyword">key</span> (wid) <span class="keyword">references</span> wife(<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>

<p>一对一关系创建方式2之主键做外键</p>
<p>思路：使用主表的主键作为外键去关联从表的主键</p>
<h3 id="一对多关系"><a href="#一对多关系" class="headerlink" title="一对多关系"></a>一对多关系</h3><p>案例：一个分类对应多个商品</p>
<p>总结</p>
<p>有外键的就是多的一方</p>
<p>注意事项</p>
<p>一对多关系和一对一关系的创建很类似，唯一区别就是外键不唯一</p>
<p>一对多关系创建</p>
<p>添加外键列</p>
<p>添加外键约束</p>
<p>案例</p>
<p>在商品表中添加一条记录，该记录的cid在分类表中不存在</p>
<p>在分类表中，删除一条记录，这条记录在商品表中有外键关联</p>
<h3 id="多对多关系"><a href="#多对多关系" class="headerlink" title="多对多关系"></a>多对多关系</h3><h4 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a>案例1</h4><p>同一个商品对应多个订单，一个订单对应多个商品</p>
<p><img src="/2020/03/20/8MySQL/1MySQL/image-20200321125758492.png" alt="image-20200321125758492"></p>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>需要中间表去完成多对多关系的创建</p>
<p>多对多关系其实就是两个一对多关系的组合</p>
<h4 id="多对多关系创建"><a href="#多对多关系创建" class="headerlink" title="多对多关系创建"></a>多对多关系创建</h4><p>创建中间表，并在其中创建多对多关系中两张表的外键列</p>
<p>在中间表中添加外键约束</p>
<p>在中间表中添加联合主键约束</p>
<h4 id="案例2"><a href="#案例2" class="headerlink" title="案例2"></a>案例2</h4><p>用户和角色</p>
<p>1个用户对多个角色</p>
<p>1个角色对多个用户</p>
<p>中间表用户角色表uid rid</p>
<h2 id="多表关联查询"><a href="#多表关联查询" class="headerlink" title="多表关联查询"></a>多表关联查询</h2><p>我们已经学会了如何在一张表中读取数据，这是相对简单的，但是在真正的应用中经常需要从多个数据表中读取数据</p>
<p>本章节我们将向大家介绍如何使用MySQL 的JOIN 在两个或多个表中查询数据</p>
<p>你可以在SELECT , UPDATE 和DELETE 语句中使用MySQL 的JOIN 来联合多表查询</p>
<p>JOIN 按照功能大致分为如下三类：</p>
<ul>
<li>CROSS JOIN （交叉连接）</li>
<li>INNER JOIN （内连接或等值连接）</li>
<li>OUTER JOIN （外连接）</li>
</ul>
<h3 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h3><p>关键字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CROSS JOIN</span><br></pre></td></tr></table></figure>

<p>交叉连接也叫笛卡尔积连接。笛卡尔积是指在数学中，两个集合X 和Y 的笛卡尓积（Cartesian product ），又称直积，表示为X*Y ，第一个对象是X 的成员而第二个对象是Y 的所有可能有序对的其中一个成员</p>
<p>交叉连接的表现</p>
<p>行数相乘、列数相加</p>
<p>隐式交叉连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">FROM</span>   A, B</span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> product,<span class="keyword">category</span>;</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid | id | cname       |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">|   1 | 泰国大榴莲    |    98 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|   1 | 泰国大榴莲    |    98 | NULL |    1 |  2 | 国内食品    |</span><br><span class="line">|   1 | 泰国大榴莲    |    98 | NULL |    1 |  3 | 国内服装    |</span><br><span class="line">|   2 | 泰国大枣      |    38 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|   2 | 泰国大枣      |    38 | NULL |    1 |  2 | 国内食品    |</span><br><span class="line">|   2 | 泰国大枣      |    38 | NULL |    1 |  3 | 国内服装    |</span><br><span class="line">|   3 | 新疆切糕      |    68 | NULL |    2 |  1 | 国外食品    |</span><br><span class="line">|   3 | 新疆切糕      |    68 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|   3 | 新疆切糕      |    68 | NULL |    2 |  3 | 国内服装    |</span><br><span class="line">|   4 | 十三香        |    10 | NULL |    2 |  1 | 国外食品    |</span><br><span class="line">|   4 | 十三香        |    10 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|   4 | 十三香        |    10 | NULL |    2 |  3 | 国内服装    |</span><br><span class="line">|   5 | 泰国大枣      |    20 | NULL |    2 |  1 | 国外食品    |</span><br><span class="line">|   5 | 泰国大枣      |    20 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|   5 | 泰国大枣      |    20 | NULL |    2 |  3 | 国内服装    |</span><br><span class="line">|   6 | 泰国大枣      |    98 | NULL |   20 |  1 | 国外食品    |</span><br><span class="line">|   6 | 泰国大枣      |    98 | NULL |   20 |  2 | 国内食品    |</span><br><span class="line">|   6 | 泰国大枣      |    98 | NULL |   20 |  3 | 国内服装    |</span><br><span class="line">|   7 | iPhone手机    |   800 | NULL |   30 |  1 | 国外食品    |</span><br><span class="line">|   7 | iPhone手机    |   800 | NULL |   30 |  2 | 国内食品    |</span><br><span class="line">|   7 | iPhone手机    |   800 | NULL |   30 |  3 | 国内服装    |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">21 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>显式交叉连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> A <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> B</span><br></pre></td></tr></table></figure>

<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>关键字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INNER JOIN</span><br></pre></td></tr></table></figure>

<p>内连接也叫等值连接，内联接使用比较运算符根据每个表共有的列的值匹配两个表中的行</p>
<p>隐式内连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">FROM</span> A,B  <span class="keyword">WHERE</span> A.id = B.id</span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> product a , <span class="keyword">category</span> b <span class="keyword">where</span> a.cid=b.id;</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid | id | cname       |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">|   1 | 泰国大榴莲    |    98 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|   2 | 泰国大枣      |    38 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|   3 | 新疆切糕      |    68 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|   4 | 十三香        |    10 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|   5 | 泰国大枣      |    20 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">+<span class="comment">-----+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>显式内连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> A <span class="keyword">INNER</span> <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.id = B.id</span><br></pre></td></tr></table></figure>

<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><p>外联接可以是左向外联接、右向外联接或完整外部联接。也就是说外连接又分为左外连接、右外连接、全外连接</p>
<p>外连接需要有主表或者保留表的概念</p>
<p>在FROM 子句中指定外联接时，可以由下列几组关键字中的一组指定</p>
<p>左外连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LEFT JOIN 或者LEFT OUTER JOIN</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">FROM</span> A <span class="keyword">RIGHT</span>  <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.id = B.id</span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> product a <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="keyword">category</span> b <span class="keyword">on</span> a.cid=b.id; <span class="comment">#以右表</span></span><br><span class="line">数据为准</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">| pid | pname           | price | pdate | cid | id | cname       |</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">|    1 | 泰国大榴莲    |    98 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|    2 | 泰国大枣      |    38 | NULL |    1 |  1 | 国外食品    |</span><br><span class="line">|    3 | 新疆切糕      |    68 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|    4 | 十三香        |    10 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">|    5 | 泰国大枣      |    20 | NULL |    2 |  2 | 国内食品    |</span><br><span class="line">| NULL | NULL           |  NULL | NULL | NULL |  3 | 国内服装    |</span><br><span class="line">+<span class="comment">------+-----------------+-------+-------+------+----+--------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>全外连接（MySQL不支持）</p>
<p>FULL JOIN 或FULL OUTER JOIN</p>
<p>SELECT * FROM A FULL JOIN B ON A.id = B.id</p>
<p>外连接总结</p>
<p>通过业务需求，分析主从表</p>
<p>如果使用LEFT JOIN ，则主表在它左边</p>
<p>如果使用RIGHT JOIN ，则主表在它右边</p>
<p>查询结果以主表为主，从表记录匹配不到，则补null</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2020/03/20/8MySQL/1MySQL/">MySQL介绍和基本的SQL编写及解析</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">爱吃鱼的呆先生</a></p>
        <p><span>发布时间:</span>2020-03-20, 09:56:02</p>
        <p><span>最后更新:</span>2020-03-21, 19:36:49</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2020/03/20/8MySQL/1MySQL/" title="MySQL介绍和基本的SQL编写及解析">http://yoursite.com/2020/03/20/8MySQL/1MySQL/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2020/03/20/8MySQL/1MySQL/　　作者: 爱吃鱼的呆先生" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2020/03/21/8MySQL/2MySQL/">
                    
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2020/03/19/0编程工具/Linux5/">
                    
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL介绍和基本的SQL编写及解析"><span class="toc-number">1.</span> <span class="toc-text">MySQL介绍和基本的SQL编写及解析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL介绍篇"><span class="toc-number">1.1.</span> <span class="toc-text">MySQL介绍篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数据库概述"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据库概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是数据库"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">什么是数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是关系型数据库"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">什么是关系型数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据库和表"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">数据库和表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的数据库管理系统"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">常见的数据库管理系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL介绍"><span class="toc-number">1.1.2.</span> <span class="toc-text">MySQL介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL是什么"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">MySQL是什么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL发展历程"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">MySQL发展历程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL介绍"><span class="toc-number">1.1.3.</span> <span class="toc-text">SQL介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是SQL"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">什么是SQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语言分类"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">SQL语言分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL基础篇"><span class="toc-number">1.2.</span> <span class="toc-text">MySQL基础篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL单机安装"><span class="toc-number">1.2.1.</span> <span class="toc-text">MySQL单机安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL的卸载"><span class="toc-number">1.2.2.</span> <span class="toc-text">MySQL的卸载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装MySQL"><span class="toc-number">1.2.3.</span> <span class="toc-text">安装MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动MySQL"><span class="toc-number">1.2.4.</span> <span class="toc-text">启动MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置root用户密码"><span class="toc-number">1.2.5.</span> <span class="toc-text">设置root用户密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#登录MySQL"><span class="toc-number">1.2.6.</span> <span class="toc-text">登录MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置MySQL"><span class="toc-number">1.2.7.</span> <span class="toc-text">配置MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#注"><span class="toc-number">1.2.7.1.</span> <span class="toc-text">注</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL远程连接授权"><span class="toc-number">1.2.8.</span> <span class="toc-text">MySQL远程连接授权</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#授权命令"><span class="toc-number">1.2.8.1.</span> <span class="toc-text">授权命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#刷新权限"><span class="toc-number">1.2.8.2.</span> <span class="toc-text">刷新权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看当前用户的权限"><span class="toc-number">1.2.8.3.</span> <span class="toc-text">查看当前用户的权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关闭linux的防火墙"><span class="toc-number">1.2.9.</span> <span class="toc-text">关闭linux的防火墙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端远程访问"><span class="toc-number">1.2.10.</span> <span class="toc-text">客户端远程访问</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#连接不上的解决办法"><span class="toc-number">1.2.10.1.</span> <span class="toc-text">连接不上的解决办法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL语句"><span class="toc-number">1.3.</span> <span class="toc-text">DDL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数据库操作database"><span class="toc-number">1.3.1.</span> <span class="toc-text">数据库操作database</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#创建数据库"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看数据库"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">查看数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除数据库（慎用）"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">删除数据库（慎用）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其他数据库操作命令"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">其他数据库操作命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表操作table"><span class="toc-number">1.3.2.</span> <span class="toc-text">表操作table</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#字段类型"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">字段类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#创建表"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看表"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">查看表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除表"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">删除表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修改表"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">修改表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DML语句"><span class="toc-number">1.4.</span> <span class="toc-text">DML语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#插入记录：insert"><span class="toc-number">1.4.1.</span> <span class="toc-text">插入记录：insert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更新记录：update"><span class="toc-number">1.4.2.</span> <span class="toc-text">更新记录：update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除记录：delete"><span class="toc-number">1.4.3.</span> <span class="toc-text">删除记录：delete</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL语句"><span class="toc-number">1.5.</span> <span class="toc-text">DQL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#完整DQL语法顺序"><span class="toc-number">1.5.1.</span> <span class="toc-text">完整DQL语法顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#简单查询"><span class="toc-number">1.5.2.</span> <span class="toc-text">简单查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语法关键字"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">SQL语法关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">案例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#查询所有的商品"><span class="toc-number">1.5.2.2.1.</span> <span class="toc-text">查询所有的商品</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查询商品名和商品价格"><span class="toc-number">1.5.2.2.2.</span> <span class="toc-text">查询商品名和商品价格</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#别名查询，使用的as关键字，as可以省略的"><span class="toc-number">1.5.2.2.3.</span> <span class="toc-text">别名查询，使用的as关键字，as可以省略的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#去掉重复值"><span class="toc-number">1.5.2.2.4.</span> <span class="toc-text">去掉重复值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查询结果是表达式（运算查询）：将所有商品的价格-10元进行显示"><span class="toc-number">1.5.2.2.5.</span> <span class="toc-text">查询结果是表达式（运算查询）：将所有商品的价格+10元进行显示</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件查询"><span class="toc-number">1.5.3.</span> <span class="toc-text">条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语法关键字-1"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">SQL语法关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-1"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#where后的条件写法"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">where后的条件写法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#排序"><span class="toc-number">1.5.4.</span> <span class="toc-text">排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语法关键字-2"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">SQL语法关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-2"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">案例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#查询所有的商品，按价格进行排序-asc-升序-desc-降序"><span class="toc-number">1.5.4.2.1.</span> <span class="toc-text">查询所有的商品，按价格进行排序.(asc-升序,desc-降序)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查询名称有新的商品的信息并且按价格降序排序"><span class="toc-number">1.5.4.2.2.</span> <span class="toc-text">查询名称有新的商品的信息并且按价格降序排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#聚合函数（组函数）"><span class="toc-number">1.5.5.</span> <span class="toc-text">聚合函数（组函数）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#常用的聚合函数"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">常用的聚合函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-3"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">案例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#获得所有商品的价格的总和"><span class="toc-number">1.5.5.2.1.</span> <span class="toc-text">获得所有商品的价格的总和</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#获得所有商品的平均价格"><span class="toc-number">1.5.5.2.2.</span> <span class="toc-text">获得所有商品的平均价格</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#获得所有商品的个数"><span class="toc-number">1.5.5.2.3.</span> <span class="toc-text">获得所有商品的个数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分组"><span class="toc-number">1.5.6.</span> <span class="toc-text">分组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语法关键字-3"><span class="toc-number">1.5.6.1.</span> <span class="toc-text">SQL语法关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-4"><span class="toc-number">1.5.6.2.</span> <span class="toc-text">案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL语法关键字-4"><span class="toc-number">1.5.6.3.</span> <span class="toc-text">SQL语法关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-5"><span class="toc-number">1.5.6.4.</span> <span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分页查询"><span class="toc-number">1.5.7.</span> <span class="toc-text">分页查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#关键字"><span class="toc-number">1.5.7.1.</span> <span class="toc-text">关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#分页分为逻辑分页和物理分页"><span class="toc-number">1.5.7.1.1.</span> <span class="toc-text">分页分为逻辑分页和物理分页</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#格式"><span class="toc-number">1.5.7.2.</span> <span class="toc-text">格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例-6"><span class="toc-number">1.5.7.3.</span> <span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子查询"><span class="toc-number">1.5.8.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定义"><span class="toc-number">1.5.8.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#位置"><span class="toc-number">1.5.8.2.</span> <span class="toc-text">位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#举例"><span class="toc-number">1.5.8.3.</span> <span class="toc-text">举例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他查询语句"><span class="toc-number">1.5.9.</span> <span class="toc-text">其他查询语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL解析顺序"><span class="toc-number">1.6.</span> <span class="toc-text">SQL解析顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FROM"><span class="toc-number">1.6.1.</span> <span class="toc-text">FROM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-J1-笛卡尔积"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">(1-J1)笛卡尔积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-J2-ON过滤"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">(1-J2)ON过滤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-J3-添加外部列"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">(1-J3)添加外部列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WHERE"><span class="toc-number">1.6.2.</span> <span class="toc-text">WHERE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GROUP-BY"><span class="toc-number">1.6.3.</span> <span class="toc-text">GROUP BY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HAVING"><span class="toc-number">1.6.4.</span> <span class="toc-text">HAVING</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SELECT"><span class="toc-number">1.6.5.</span> <span class="toc-text">SELECT</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-J1-计算表达式"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">(5-J1)计算表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-J2-DISTINCT"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">(5-J2)DISTINCT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ORDER-BY"><span class="toc-number">1.6.6.</span> <span class="toc-text">ORDER BY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LIMIT（MySQL特有）"><span class="toc-number">1.6.7.</span> <span class="toc-text">LIMIT（MySQL特有）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解析顺序总结"><span class="toc-number">1.6.8.</span> <span class="toc-text">解析顺序总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#图示"><span class="toc-number">1.6.8.1.</span> <span class="toc-text">图示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#流程分析"><span class="toc-number">1.6.8.2.</span> <span class="toc-text">流程分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#流程说明"><span class="toc-number">1.6.8.3.</span> <span class="toc-text">流程说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WHERE条件解析顺序"><span class="toc-number">1.6.8.4.</span> <span class="toc-text">WHERE条件解析顺序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表与表之间的关系"><span class="toc-number">1.7.</span> <span class="toc-text">表与表之间的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#表关系的概念"><span class="toc-number">1.7.1.</span> <span class="toc-text">表关系的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一对多"><span class="toc-number">1.7.2.</span> <span class="toc-text">一对多</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多对多"><span class="toc-number">1.7.3.</span> <span class="toc-text">多对多</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一对一"><span class="toc-number">1.7.4.</span> <span class="toc-text">一对一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一对多关系案例"><span class="toc-number">1.7.5.</span> <span class="toc-text">一对多关系案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#需求"><span class="toc-number">1.7.5.1.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#具体操作"><span class="toc-number">1.7.5.2.</span> <span class="toc-text">具体操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多对多关系案例"><span class="toc-number">1.7.6.</span> <span class="toc-text">多对多关系案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#需求-1"><span class="toc-number">1.7.6.1.</span> <span class="toc-text">需求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表与表之间的关系小结"><span class="toc-number">1.7.7.</span> <span class="toc-text">表与表之间的关系小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表与表之间的关系-1"><span class="toc-number">1.7.8.</span> <span class="toc-text">表与表之间的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外键"><span class="toc-number">1.7.9.</span> <span class="toc-text">外键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一对一关系（了解）"><span class="toc-number">1.7.10.</span> <span class="toc-text">一对一关系（了解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一对多关系"><span class="toc-number">1.7.11.</span> <span class="toc-text">一对多关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多对多关系"><span class="toc-number">1.7.12.</span> <span class="toc-text">多对多关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#案例1"><span class="toc-number">1.7.12.1.</span> <span class="toc-text">案例1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#注意事项"><span class="toc-number">1.7.12.2.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多对多关系创建"><span class="toc-number">1.7.12.3.</span> <span class="toc-text">多对多关系创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例2"><span class="toc-number">1.7.12.4.</span> <span class="toc-text">案例2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多表关联查询"><span class="toc-number">1.8.</span> <span class="toc-text">多表关联查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#交叉连接"><span class="toc-number">1.8.1.</span> <span class="toc-text">交叉连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内连接"><span class="toc-number">1.8.2.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外连接"><span class="toc-number">1.8.3.</span> <span class="toc-text">外连接</span></a></li></ol></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"MySQL介绍和基本的SQL编写及解析　| 爱吃鱼的呆先生　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2020/03/21/8MySQL/2MySQL/" title="上一篇: ">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2020/03/19/0编程工具/Linux5/" title="下一篇: ">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/05/07/Mybatis/1mybatis高级原理分析/">1mybatis高级原理分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/07/Mybatis/Mybatis基础1/">mybatis基础详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/04/Vue/Vue1/">Vue/Vue1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/03/面试/简历/">面试/简历</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/01/SpringDataJPA/SpringDataJPA/">SpringDataJPA</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/01/ELK/Logstash/">Logstash</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/01/ELK/ElasticSearch/">ElasticSearch</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/29/0编程工具/easyExcel/">easyExcel</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/28/ZooKeeper/3Zookeeper/">第1章Zookeeper理论基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/24/Spring/2Spring核心理解/">Spring/2Spring核心理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/23/数据结构/动态规划/">数据结构/动态规划</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/21/Json/Json/">Json详解以及fastjson使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/18/SpringMVC/SpringMVC/">SpringMVC/SpringMVC</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/18/Kafka/Kafka/">Kafka/Kafka</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/14/0编程工具/Idea/">Idea</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/31/9Redis/1Redis/">Redis1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/29/SpringCloud/1SpringCloud/">Spring Cloud基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/29/ZooKeeper/1Zookeeper/">第1章Zookeeper理论基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/26/8MySQL/4MySQL/">8MySQL/4MySQL</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/24/8MySQL/3MySQL/">8MySQL/3MySQL</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/21/8MySQL/2MySQL/">8MySQL/2MySQL</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/20/8MySQL/1MySQL/">MySQL介绍和基本的SQL编写及解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/19/0编程工具/Linux5/">0编程工具/Linux5</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/17/0编程工具/Linux3/">Linux3</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/15/0编程工具/Linux2/">Linux2</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/15/数据结构/2栈和队列/">栈和队列</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/15/数据结构/1数组/">数组</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/10/0编程工具/Linux/">Linux1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/锁/">锁</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/详解之同步synchronized/">多线程二之高并发详解之同步synchronized关键字</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/线程8大核心基础/">多线程三之线程8大核心基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/治理线程的第二法宝/">4悟空Java并发编程/治理线程的第二法宝</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/控制并发流程/">4悟空Java并发编程/控制并发流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/并发编程的基石/">多线程一之并发编程的基石</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/并发工具类纵览/">并发工具类</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/并发容器精讲/">4悟空Java并发编程/并发容器精讲</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/实战项目/">4悟空Java并发编程/实战项目</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/原子类/">原子类</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/ThreadLocal详解/">ThreadLocal详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/Java内存模型之底层原理/">Java内存模型之底层原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/4悟空Java并发编程/AQS/">4悟空Java并发编程/AQS</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/3Java高级/Java反射机制/">Java反射机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/3Java高级/Java8新特性/">Java8新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/3Java高级/IO流/">IO流</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/2Java常用类/String类型相关习题/">String类型相关习题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/2Java常用类/StringBuffer与StringBuilder/">StringBuffer与StringBuilder</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/2Java常用类/1String与String相关的类/">String详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/面向对象二5/">面向对象二</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/面向对象三6/">面向对象三</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/面向对象一4/">面向对象一</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/数组8/">数组</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/排序算法/">十大排序算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/异常7/">异常处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/八大排序算法9/">八大排序算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/代码简洁之道/">代码简洁之道</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/java3流程控制/">1Java基础/java3流程控制</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/Java2基本语法/">1Java基础/Java2基本语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/1Java基础/Java1概述/">Java概述</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/06/0编程工具/Git&GitHub/">Git&GitHub</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/13/MybatisPlus/MyBatisPlus/">MyBatisPlus</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2019-2020 爱吃鱼的呆先生
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>